# 빅데이터를 지탱하는 기술

## 1-1빅데이터의 정착

### 분산시스템에 의한 데이터 처리의 고속화

- 데이터 처리에 분산시스템을 도입하며 빅데이터 등장

- 빅데이터 취급이 어려운 이유
  
  - 데이터 분석 방법을 모른다
  
  - 데이터 처리에 수고와 시간이 걸린다 > 이 책은 어떻게 효율적으로 시행할 것인가에 집중

### 빅데이터 기술의 요구

- 인터넷의 보급으로 엑세스 되는 시스템이 증가함에 따라 전통적인 관계형 데이터베이스로는 취급할 수 없을 만큼 대량의 데이터가 쌓임

- hadoop과 nosql의 조합을 통해 현실적인 비용으로 데이터를 처리 가능

##### Hadoop

- 다수의 컴퓨터에서 대량의 데이터를 처리

- 방대한 데이터를 저장할 스토리지와 데이터를 순차적으로 처리할 구조

- 구글의 MapReduce를 참고하여 제작, 초기에는 자바로 프로그래밍

- Hive 도입 : SQL같은 쿼리 언어로 실행 가능

##### NoSQL

- 전통적인 RDB의 제약을 제거한 DB의 총칭

- 고속의 읽기, 쓰기가 가능 / 분산 처리에 뛰어남

- 앱에서 온라인으로 접속하는 데이터베이스

- 키 밸류 스토어 : 다수의 키와 값을 관련지어 저장

- 도큐멘트 스토어 : JSON 같은 복잡한 데이터 구조

- 와이드 칼럼 스토어 : 여러 키를 사용하여  높은 확장성

#### 데이터웨어하우스와 공존

- 단점 : 데이터 용량을 늘리려면 하드웨어 교체 등 확장성이 적음

- Hadoop에 가속도적으로 늘어나는 데이터의 처리를 맡김 > 웨어하우스의 부하를 줄임

### 직접 할 수 있는 데이터 분석

- 직접 실행할 수 있는 클라우드 서비스 제공

- 데이터를 시각화하는 데이터 디스커버리 제공

    

## 1-2빅데이터 시대의 데이터 분석 기반

### 빅데이터 기술

#### 데이터 파이프라인

- 차례대로 전달해나가는 데이터로 구성된 시스템

- 데이터 수집 

- 데이터 전송
  
  - 벌크 형 : 이미 존재하는 데이터를 정리해서 추출,  데이터 베이스와 파일 서버등에서 정기적으로 데이터를 수집하는 데에 사용
    
    - 배치 처리 : 대량의 데이터를 저장하고 처리하는 데 적합한 장기적인 데이터 분석
  
  - 스트리밍 형 : 생성되는 데이터를 끊임없이 계속해서 보내는 방법. 모바일 애플리케이션, 임베디드 장비 등에서 널리 데이터를 수집하는 데 사용.
    
    - 스트림 처리 : 받은 데이터를 실시간으로 처리

- 분산 스토리지
  
  - 여러 컴퓨터와 디스크로 구성된 스토리지 시스템
  
  - 객체 스토리지 : 한 덩어리로 모인 데이터에 이름을 부여
  
  - SQL데이터 베이스를 분산 스토리지로 활용

- 분산 데이터 처리 
  
  - 쿼리엔진 : 데이터를 sql로 집계
  
  - ETL 프로세스 : 데이터를 데이터 웨어하우스에 적합하게 변환

- 워크플로 관리 : 매일 정해진 시간에 배치 처리를 스케줄대로 실행하고, 오류가 발생한 경우에는 관리자에게 통지하는 목적으로 사용된다.

    

### 데이터 웨어하우스

- 대량의 데이터를 장기 보존하는 것에 최적화, 소량의 데이터를 자주 쓰기엔 적합하지 않다

- cf) 데이터 레이크 : 모든 데이터를 원래의 형태로 축적

- 데이터 마트 : 웨어하우스에서 필요한 데이터만을 추출하여 분석 및 사용

    

### 데이터 분석 기반을 단계적으로 발전시키기

- 데이터 엔지니어 : 시스템의 구축 및 자동화 담당

- 데이터 분석가 : 가치있는 정보를 추출

- 데이터 파이프라인의 두가지 특징
  
  - 저장할 수 있는 데이터 용량에 제한이 없을 것
  
  - 데이터를 효율적으로 추출할 수단이 있을 것

    

### 데이터를 수집하는 목적

- 검색, 가공, 시각화

- 데이터 검색 : 내가 찾고자 하는 데이터를 쉽게 파악하기 위해 필요한 기능, 필요할 때 신속하게 검색할 수 있도록 하는 것이 핵심

- 데이터 가공 : 목적에 맞게 사용하도록 처리, 자동화가 필수적

- 데이터 시각화 : 시각화를 통해 정보를 손쉽게 확인, 의사결정에 도움, 데이터 마트 필요

cf)데이터는 기간계와 정보계를 연결

-기간계 시스템 : 비즈니스 근간에 관련된 중요한 시스템, 정지되면 업무가 멈춤

-정보계 시스템 : 사내 커뮤니케이션 및 의사 결정을 위해 이용하는 시스템, 정지되면  적은 영향

 cf) -확증적 데이터 : 가설을 세우고 그것을 검증 > 통계학적 모델링에 의한 분석

-탐색적 데이터 : 데이터를 보면서 그 의미를 읽어내려고 함 > 시각화 후 사람해석

    

## 1-3스크립트 언어에 의한 특별 분석과 데이터 프레임

#### 데이터 처리와 스크립트 언어

- R : 통계분석을 위해 개발된 언어

- 파이썬 : 범용의 스크립트 언어, 전처리에 적합

    

#### 데이터 프레임, 기초 중의 기초

- 표 형식의 데이터를 추상화한 객체

- 배열 안의 배열

    

## 2-1크로스 집계의 기본

#### 트랜잭션 테이블

- 크로스 테이블 : 행과 열이 교차하는 부분에 숫자 데이터가 들어감

- 트랜잭션 테이블 : 행방향으로만 증가

- 크로스 집계 : 트랜잭션 테이블에서 크로스 테이블로 변환하는 과정, 일반적으로 피벗 테이블 사용

- 피벗 테이블 : 소량의 데이터를 크로스 집계

- 룩업 테이블 : 트랜잭션 테이블을 다른 테이블과 결합

- BI도구 : tableau, pandas 등

- SQL : 집계함수를 통해 집계

cf) 테이블의 종횡변환

- 데이터 레이크 > 데이터 마트 > 시각화 도구

    

#### 데이터 처리의 지연

- 지연이 적은 데이터 베이스 : 데이터 처리의 응답이 빠르다

#### 압축과 분산

##### 열 지향 데이터베이스 접근

- 칼럼 단위로의 데이터 압축

- teradata, amazon redshint

- 일부 칼럼만이 집계 대상, 데이터를 미리 칼럼 단위로 정리

##### 행 지향 데이터베이스 접근

- 레코드 단위의 읽고 쓰기에 최적화되어 있음

- Oracle, MySQL

- 테이블의 각 행을 하나의 덩어리로 디스크에 저장, 인덱스 사용 필수

cf) - 처리량 : 일정 시간에 처리할 수 있는 데이터의 양

-지연시간 : 데이터 처리가 끝날 때까지의 대기 시간

    

#### MPP 데이터 베이스

- 하드웨어 수준에서 데이터 집계에 최적화된 데이터베이스

- MPP 아키텍쳐에 의한 데이터 처리의 병렬화로 쿼리 지연을 줄임

- 열 지향 데이터베이스에서는 대량의 데이터를 한번에 읽고 압축된 데이터를 전개하므로 멀티 코어를 활용하여 고속화

- 행 지향 데이터 베이스에서는 하나의 쿼리는 하나의 데이터베이스에서 시작

    

    

## 2-3 에드혹 분석과 시각화 도구

- jupyter : 대화형 도구

- 대시보드 도구 
  
  - redash : SQL 쿼리 실행 결과 그대로 시각화
  
  - Superset : 대화형 대시보드 , GUI
  
  - Kibana : 자바 스크립트, 실시간 대시보드, 프런트엔드

- 시각화 도구 선택 지침
  
  - 스프레드 시트 : 간단한 사용, 공유가 쉬움 
    - 단점 : 대량의 데이터 취급 불가, 복잡한 대시보드 만들기 어려움
  - 대시보드 도구 : SQL 지만 필요, 정기적 모니터링
  - jupyter : 기본적인 지식, 간단한 시각화

    

#### 2-4 데이터 마트의 기본구조
